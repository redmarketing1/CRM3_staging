(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,c,i=[],s=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=a.call(n)).done)&&(i.push(o.value),i.length!==e);s=!0);}catch(t){l=!0,r=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(e,n,o){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function c(t,n){var o=document.getElementById(t),r=new google.maps.places.Autocomplete(o);r.addListener("place_changed",(function(){var t=r.getPlace();t.geometry&&function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={};if(!t||!t.geometry||!t.geometry.location)return o;o.latitude=t.geometry.location.lat(),o.longitude=t.geometry.location.lng();var r="";if(t.address_components.forEach((function(t){var e=t.types[0];switch(e){case"street_number":r=t.long_name;break;case"route":o.address_1="".concat(t.long_name).concat(r?", "+r:"");break;case"locality":o.city=t.long_name;break;case"sublocality_level_1":o.district_1=t.long_name;break;case"administrative_area_level_3":o.district_2=t.long_name;break;case"administrative_area_level_1":o.state=t.long_name;break;case"postal_code":case"postal_code_suffix":o.zip_code=t.long_name;break;case"country":o.country=t.short_name;break;default:o[e]=t.long_name}})),""!==n){var a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=$("#".concat(n,"-").concat(t));if(o.length)if("country"===t){var r=o.find('option[data-iso="'.concat(e,'"]'));r.length&&(r.prop("selected",!0),o.trigger("change"))}else o.val(e)};["address_1","address_2","city","district_1","district_2","state","zip_code","country"].forEach((function(t){return a(t)})),Object.entries(o).forEach((function(t){var n=e(t,2),o=n[0],r=n[1];return a(o,r)}))}}(t,n)}))}$(document).on("click",".status",(function(t){t.preventDefault();var e=$(this).attr("data-id"),n=$(this).attr("data-status"),o=$(this).attr("data-background"),r=$(this).attr("data-font"),a=$(this).text();$(".project-statusName").text(a).attr("style","background-color: ".concat(o," !important; color: ").concat(r," !important;")),$.ajax({url:route("project.update",e),type:"PUT",data:{ids:e,statusID:n,type:"changeStatus"},success:function(t){toastrs("Success",t.success,"success")}})})),$(document).on("change","#construction-select",(function(){var t=$("#construction-select option:selected").data("type"),e=document.getElementById("client_type1");e.value=null!=t?t:"new";var n=route("users.get_user"),o=this.value;if(o)axios.post(n,{user_id:o,from:"construction"}).then((function(t){var e=document.getElementById("construction-details");$("#construction-details").html(t.data.html_data),$("#construction_detail_id").val(t.data.user_id),$("#construction_detail-company_notes").length>0&&init_tiny_mce("#construction_detail-company_notes"),e&&e.classList.remove("d-none"),c("construction_detail-autocomplete","construction_detail"),$(".country_select2").select2(a(a(a({placeholder:"Country",multiple:!1,dropdownParent:$("#title_form")},"placeholder","Select an country"),"allowClear",!0),"dropdownAutoWidth",!0))}));else{var r=document.getElementById("construction-details");r&&r.classList.add("d-none")}})),$(document).on("change","#client-select",(function(){var t=$("#client-select option:selected").data("type"),e=document.getElementById("client_type");e.value=null!=t?t:"new";var n=route("users.get_user");if(init_tiny_mce(".client-company_notes"),this.value)axios.post(n,{user_id:this.value,from:"client"}).then((function(t){var e=document.getElementById("client-details");$("#client-details").html(t.data.html_data),$("#client_id").val(t.data.user_id),$("#client-company_notes").length>0&&init_tiny_mce("#client-company_notes"),e&&e.classList.remove("d-none"),c("invoice-autocomplete","invoice")}));else{var o=document.getElementById("client-details");o&&o.classList.add("d-none")}})),$(document).on("click",".change-archive",(function(t){t.preventDefault();var e=$(this).data("id"),n=$(this).data("title"),o=$(this).data("text"),r=$(this).data("type");Swal.fire({title:n,text:o,showCancelButton:!0,confirmButtonText:"Yes, ".concat(r," it"),cancelButtonText:"No, cancel"}).then((function(t){t.isConfirmed&&($.ajax({url:route("project.update",1),type:"PUT",data:{type:r,ids:[e]},success:function(t){console.log(t),window.location.reload()}}),Swal.fire({icon:"success",title:"".concat(r.charAt(0).toUpperCase()+r.slice(1)," Successful!"),html:"Project have been moved to ".concat(r),timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}))})),$(document).on("click","#copyProjectShareLinks",(function(){var t=this,e=document.getElementById("copyText");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.textContent="Copied!",this.style.backgroundColor="#6fd943",setTimeout((function(){t.textContent="Copy",t.style.backgroundColor=""}),2e3),toastrs("success","Project's shared links has copied to clipboard","success")})),function(){var t=25;function e(e){var n=document.querySelectorAll("#".concat(e," a.tab-link")).length,o=t;function r(t){for(var o=document.querySelectorAll("#".concat(e," .tab-item")),r=t;r<n;r++)o[r].style.display="none"}function a(t,n){var o=document.querySelector("#".concat(e," .pagination-btn"));o.innerText=n?"Show Less Projects":"Show More ".concat(t," Projects")}if(n>t){var c=document.getElementById(e),i=document.createElement("div");i.classList="pagination-btn font-semibold mb-3 mt-3 pointer text-center",i.innerText="Show More ".concat(t," Projects"),c.appendChild(i),i.addEventListener("click",(function(c){if(c.preventDefault(),o>=n)r(o=t),a(t,!1);else{var i=o+t;i=Math.min(i,n),function(t,o){for(var r=document.querySelectorAll("#".concat(e," .tab-item")),a=t;a<o&&a<n;a++)r[a].style.display="list-item"}(o,i),(o=i)>=n?a(0,!0):a(t,!1)}})),r(o),a(t,!1)}else{document.querySelectorAll("#".concat(e," .tab-item")).forEach((function(t){t.style.display="list-item"}))}}$("#project a.nav-link").each((function(){e($(this).attr("id").replace("tab-",""))}))}(),$("#searchInput").on("input",(function(){var t=$(this).val().toLowerCase();t.length<=0?$(".pagination-btn").show():($("#allprojects").hasClass("active")||($(".tab-pane.fade").removeClass("active show"),$("#allprojects").addClass("active show")),$("#allprojects li.tab-item").each((function(){var e=$(this).find("a").text().toLowerCase().includes(t);$(this).toggle(e),$(".pagination-btn").hide()})))})),$(document).on("blur",".inline-edit[contenteditable]",(function(){var t=$(this).text().trim(),e=$(this).data("field"),n=$(this).data("message"),o=a({},e,t);$.ajax({url:route("project.update",projectID),type:"PUT",data:r({type:"updateAll"},o),success:function(t){toastrs("success",n,"success")},error:function(t,e,n){toastrs("Error","There was an issue updating the content")}})})),$(document).on("focus",".edit-datafield",(function(){var t=$(this);t.datepicker({dateFormat:"yy-mm-dd",onClose:function(e){console.log(e),t.text(e).trigger("blur")}}).datepicker("show")}))})();
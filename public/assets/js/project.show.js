(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,c,i=[],l=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=a.call(n)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function o(e,n,o){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function r(t,n){var o=document.getElementById(t),r=new google.maps.places.Autocomplete(o);r.addListener("place_changed",(function(){var t=r.getPlace();t.geometry&&function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={};if(!t||!t.geometry||!t.geometry.location)return o;o.latitude=t.geometry.location.lat(),o.longitude=t.geometry.location.lng();var r="";if(t.address_components.forEach((function(t){var e=t.types[0];switch(e){case"street_number":r=t.long_name;break;case"route":o.address_1="".concat(t.long_name).concat(r?", "+r:"");break;case"locality":o.city=t.long_name;break;case"sublocality_level_1":o.district_1=t.long_name;break;case"administrative_area_level_3":o.district_2=t.long_name;break;case"administrative_area_level_1":o.state=t.long_name;break;case"postal_code":case"postal_code_suffix":o.zip_code=t.long_name;break;case"country":o.country=t.short_name;break;default:o[e]=t.long_name}})),""!==n){var a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=$("#".concat(n,"-").concat(t));if(o.length)if("country"===t){var r=o.find('option[data-iso="'.concat(e,'"]'));r.length&&(r.prop("selected",!0),o.trigger("change"))}else o.val(e)};["address_1","address_2","city","district_1","district_2","state","zip_code","country"].forEach((function(t){return a(t)})),Object.entries(o).forEach((function(t){var n=e(t,2),o=n[0],r=n[1];return a(o,r)}))}}(t,n)}))}$(document).on("click",".status",(function(t){t.preventDefault();var e=$(this).attr("data-id"),n=$(this).attr("data-status"),o=$(this).text();$(".project-statusName").text(o),$.ajax({url:route("project.update",e),type:"PUT",data:{ids:e,statusID:n,type:"changeStatus"},success:function(t){toastrs("Success",t.success,"success")}})})),$(document).on("change","#construction-select",(function(){var t=$("#construction-select option:selected").data("type"),e=document.getElementById("client_type1");e.value=null!=t?t:"new";var n=route("users.get_user"),a=this.value;if(a)axios.post(n,{user_id:a,from:"construction"}).then((function(t){var e=document.getElementById("construction-details");$("#construction-details").html(t.data.html_data),$("#construction_detail_id").val(t.data.user_id),$("#construction_detail-company_notes").length>0&&init_tiny_mce("#construction_detail-company_notes"),e&&e.classList.remove("d-none"),r("construction_detail-autocomplete","construction_detail"),$(".country_select2").select2(o(o(o({placeholder:"Country",multiple:!1,dropdownParent:$("#title_form")},"placeholder","Select an country"),"allowClear",!0),"dropdownAutoWidth",!0))}));else{var c=document.getElementById("construction-details");c&&c.classList.add("d-none")}})),$(document).on("change","#client-select",(function(){var t=$("#client-select option:selected").data("type"),e=document.getElementById("client_type");e.value=null!=t?t:"new";var n=route("users.get_user");if(init_tiny_mce(".client-company_notes"),this.value)axios.post(n,{user_id:this.value,from:"client"}).then((function(t){var e=document.getElementById("client-details");$("#client-details").html(t.data.html_data),$("#client_id").val(t.data.user_id),$("#client-company_notes").length>0&&init_tiny_mce("#client-company_notes"),e&&e.classList.remove("d-none"),r("invoice-autocomplete","invoice")}));else{var o=document.getElementById("client-details");o&&o.classList.add("d-none")}}))})();
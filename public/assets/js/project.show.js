(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r,c,i=[],l=!0,s=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(t){s=!0,a=t}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function o(e,n,o){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function a(t,n){var o=document.getElementById(t),a=new google.maps.places.Autocomplete(o);a.addListener("place_changed",(function(){var t=a.getPlace();t.geometry&&function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={};if(!t||!t.geometry||!t.geometry.location)return o;o.latitude=t.geometry.location.lat(),o.longitude=t.geometry.location.lng();var a="";if(t.address_components.forEach((function(t){var e=t.types[0];switch(e){case"street_number":a=t.long_name;break;case"route":o.address_1="".concat(t.long_name).concat(a?", "+a:"");break;case"locality":o.city=t.long_name;break;case"sublocality_level_1":o.district_1=t.long_name;break;case"administrative_area_level_3":o.district_2=t.long_name;break;case"administrative_area_level_1":o.state=t.long_name;break;case"postal_code":case"postal_code_suffix":o.zip_code=t.long_name;break;case"country":o.country=t.short_name;break;default:o[e]=t.long_name}})),""!==n){var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=$("#".concat(n,"-").concat(t));if(o.length)if("country"===t){var a=o.find('option[data-iso="'.concat(e,'"]'));a.length&&(a.prop("selected",!0),o.trigger("change"))}else o.val(e)};["address_1","address_2","city","district_1","district_2","state","zip_code","country"].forEach((function(t){return r(t)})),Object.entries(o).forEach((function(t){var n=e(t,2),o=n[0],a=n[1];return r(o,a)}))}}(t,n)}))}$(document).on("click",".status",(function(t){t.preventDefault();var e=$(this).attr("data-id"),n=$(this).attr("data-status"),o=$(this).text();$(".project-statusName").text(o),$.ajax({url:route("project.update",e),type:"PUT",data:{ids:e,statusID:n,type:"changeStatus"},success:function(t){toastrs("Success",t.success,"success")}})})),$(document).on("change","#construction-select",(function(){var t=$("#construction-select option:selected").data("type"),e=document.getElementById("client_type1");e.value=null!=t?t:"new";var n=route("users.get_user"),r=this.value;if(r)axios.post(n,{user_id:r,from:"construction"}).then((function(t){var e=document.getElementById("construction-details");$("#construction-details").html(t.data.html_data),$("#construction_detail_id").val(t.data.user_id),$("#construction_detail-company_notes").length>0&&init_tiny_mce("#construction_detail-company_notes"),e&&e.classList.remove("d-none"),a("construction_detail-autocomplete","construction_detail"),$(".country_select2").select2(o(o(o({placeholder:"Country",multiple:!1,dropdownParent:$("#title_form")},"placeholder","Select an country"),"allowClear",!0),"dropdownAutoWidth",!0))}));else{var c=document.getElementById("construction-details");c&&c.classList.add("d-none")}})),$(document).on("change","#client-select",(function(){var t=$("#client-select option:selected").data("type"),e=document.getElementById("client_type");e.value=null!=t?t:"new";var n=route("users.get_user");if(init_tiny_mce(".client-company_notes"),this.value)axios.post(n,{user_id:this.value,from:"client"}).then((function(t){var e=document.getElementById("client-details");$("#client-details").html(t.data.html_data),$("#client_id").val(t.data.user_id),$("#client-company_notes").length>0&&init_tiny_mce("#client-company_notes"),e&&e.classList.remove("d-none"),a("invoice-autocomplete","invoice")}));else{var o=document.getElementById("client-details");o&&o.classList.add("d-none")}})),$(document).on("click",".change-archive",(function(t){t.preventDefault();var e=$(this).data("id"),n=$(this).data("title"),o=$(this).data("text"),a=$(this).data("type");Swal.fire({title:n,text:o,showCancelButton:!0,confirmButtonText:"Yes, ".concat(a," it"),cancelButtonText:"No, cancel"}).then((function(t){t.isConfirmed&&($.ajax({url:route("project.update",1),type:"PUT",data:{type:a,ids:[e]},success:function(t){console.log(t),window.location.reload()}}),Swal.fire({icon:"success",title:"".concat(a.charAt(0).toUpperCase()+a.slice(1)," Successful!"),html:"Project have been moved to ".concat(a),timer:2e3,timerProgressBar:!0,showConfirmButton:!1}))}))})),$(document).on("click","#copyProjectShareLinks",(function(){var t=this,e=document.getElementById("copyText");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.textContent="Copied!",this.style.backgroundColor="#6fd943",setTimeout((function(){t.textContent="Copy",t.style.backgroundColor=""}),2e3),toastrs("success","Project's shared links has copied to clipboard","success")}))})();